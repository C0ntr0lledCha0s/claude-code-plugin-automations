{
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Analyze the user's prompt to detect if they are asking to CREATE, BUILD, ADD, or IMPLEMENT any Claude Code components (skills, commands, agents, hooks, or plugins). Look for keywords like: 'create a skill', 'build an agent', 'add a command', 'implement a hook', 'make a plugin', 'new skill', 'new command', etc. If component creation is detected, you MUST use the Task tool to invoke the appropriate agent-builder agent for orchestrated creation: For PLUGINS (multi-component): Use Task with subagent_type='agent-builder:meta-architect' which will orchestrate the entire plugin creation, invoke the building-plugins skill for expertise, and delegate to specialized builders. For single components: Use Task with subagent_type='agent-builder:agent-builder' for agents, 'agent-builder:skill-builder' for skills, 'agent-builder:command-builder' for commands, 'agent-builder:hook-builder' for hooks. These builder agents will use their corresponding skills for expertise and best practices. Do NOT attempt to create component files directly without invoking the appropriate builder agent."
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "python3 $CLAUDE_PROJECT_DIR/agent-builder/hooks/scripts/check-skill-invoked.py"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "IMPORTANT: Before writing to this file path, check if it is a Claude Code component file. Component patterns: */skills/*/SKILL.md (skills), */commands/*.md (commands), */agents/*.md (agents), */hooks/hooks.json (hooks), */.claude-plugin/plugin.json (plugins). If writing to a component file: 1) STOP and verify you have invoked the appropriate agent-builder skill (building-skills, building-commands, building-agents, building-hooks, building-plugins). 2) If you have NOT invoked the skill yet, do so NOW before proceeding. 3) Use the skill's templates from agent-builder/skills/*/templates/ as your starting point. 4) Follow the skill's schema and validation rules. This check ensures components are created correctly with proper structure, security, and best practices."
          }
        ]
      }
    ],
    "PostToolUse": []
  }
}
